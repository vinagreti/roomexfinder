webpackJsonp([0,3],{820:function(t,e,n){"use strict";var o=n(0),i=n(17),a=n(277),r=n(823),c=n(822),l=n(825),f=n(821),d=n(826),s=n(824);n.d(e,"FinderModule",function(){return h});var p=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},h=function(){function t(){}return t=p([n.i(o.u)({imports:[i.a,l.a,d.a,a.a,a.b],declarations:[r.a,c.a,s.a],providers:[f.a]}),u("design:paramtypes",[])],t)}()},821:function(t,e,n){"use strict";var o=n(0),i=n(178),a=n(832);n.n(a);n.d(e,"a",function(){return l});var r=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t){var e=this;this.http=t,this.roomexAipEndpoint="//roomex.mockable.io/",this.searchEndpoint="locationSearch",this.hotelEnpoint="hotel/",this.responseMessages={error:"There is a problem calling Roomex Finder API! Please, try again in a few minutes.",notLogged:"You must be logged to access this!"},this.extractBodyHotel=function(t){var e;return t.json()?e=t.json():(e=t.text(),Promise.reject(e))},this.extractBodySearch=function(t){var e;return t.json()?e=t.json().HotelPricingSummaries:(e=t.text(),Promise.reject(e))},this.handleError=function(t){return Promise.reject(t)},this.handleRejection=function(t){var n=401==t.status?e.responseMessages.notLogged:e.responseMessages.error;return Promise.reject(n)},this.get=function(t){var n=e.roomexAipEndpoint+e.hotelEnpoint+t;return e.http.get(n).toPromise().then(e.extractBodyHotel,e.handleRejection).catch(e.handleError)},this.search=function(){var t=e.roomexAipEndpoint+e.searchEndpoint;return e.http.get(t).toPromise().then(e.extractBodySearch,e.handleRejection).catch(e.handleError)}}return t=r([n.i(o.c)(),c("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object])],t);var e}()},822:function(t,e,n){"use strict";var o=n(0);n.d(e,"a",function(){return r});var i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=function(){function t(){}return t=i([n.i(o.D)({template:"\n    <router-outlet></router-outlet>\n  "}),a("design:paramtypes",[])],t)}()},823:function(t,e,n){"use strict";var o=n(0),i=n(821),a=n(827);n.d(e,"a",function(){return l});var r=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t,e){var n=this;this.finderService=t,this.mapService=e,this.locations=[],this.loading=!1,this.searchString="IE",this.getMapLink=function(t){var e=t.GeoCode.Latitude,o=t.GeoCode.Longitude;return n.mapService.getByLatLng([e,o])},this.goToMap=function(t){var e=n.getMapLink(t);window.open(e,"_blank")},this.getStars=function(t){return Array(t).fill(1)}}return t.prototype.ngOnInit=function(){var t=this;this.loading=!0,this.finderService.search().then(function(e){t.locations=e,t.loading=!1},function(){alert("There was a problem during the search. Please, try again in a few minutes."),t.loading=!1})},t=r([n.i(o.D)({selector:"app-finder",template:n(830),styles:[n(828)],providers:[a.a]}),c("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object,"function"==typeof(l="undefined"!=typeof a.a&&a.a)&&l||Object])],t);var e,l}()},824:function(t,e,n){"use strict";var o=n(0),i=n(276),a=n(821);n.d(e,"a",function(){return l});var r=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t,e){this.route=t,this.finderService=e,this.location={},this.loading=!1,this.getStars=function(t){return Array(t).fill(1)}}return t.prototype.ngOnInit=function(){var t=this;this.routeSubscription=this.route.params.subscribe(function(e){e.id&&(t.loading=!0,t.finderService.get(e.id).then(function(e){console.log(e),t.location=e,t.loading=!1},function(){alert("There was a problem getting the hotel info. Please, try again in a few minutes."),t.loading=!1}))})},t=r([n.i(o.D)({selector:"app-hotel",template:n(831),styles:[n(829)]}),c("design:paramtypes",["function"==typeof(e="undefined"!=typeof i.a&&i.a)&&e||Object,"function"==typeof(l="undefined"!=typeof a.a&&a.a)&&l||Object])],t);var e,l}()},825:function(t,e,n){"use strict";var o=n(0),i=n(276),a=n(822),r=n(823),c=n(824);n.d(e,"a",function(){return s});var l=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},f=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},d=[{path:"",component:a.a,children:[{path:"",component:r.a},{path:":id",component:c.a}]}],s=function(){function t(){}return t=l([n.i(o.u)({imports:[i.b.forChild(d)],exports:[i.b],providers:[]}),f("design:paramtypes",[])],t)}()},826:function(t,e,n){"use strict";var o=n(0),i=n(17);n.d(e,"a",function(){return c});var a=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(){}return t=a([n.i(o.u)({imports:[i.a],declarations:[]}),r("design:paramtypes",[])],t)}()},827:function(t,e,n){"use strict";var o=n(0);n.d(e,"a",function(){return r});var i=this&&this.__decorate||function(t,e,n,o){var i,a=arguments.length,r=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(r=(a<3?i(r):a>3?i(e,n,r):i(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},a=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},r=function(){function t(){var t=this;this.mapUrl="http://maps.google.com/?q=",this.getMapUrl=function(){return t.mapUrl},this.getByLatLng=function(e){return t.mapUrl+e.join(",")}}return t=i([n.i(o.c)(),a("design:paramtypes",[])],t)}()},828:function(t,e){t.exports="@media (max-width: 500px){.location-card-wrapper{width:96%;margin:auto;margin-bottom:12px}}@media (min-width: 500px) and (max-width: 767px){.location-card-wrapper{width:49%;margin-left:1%;margin-bottom:16px}}@media (min-width: 768px) and (max-width: 1023px){.location-card-wrapper{width:32%;margin-left:1%;margin-bottom:22px}}@media (min-width: 1024px){.location-card-wrapper{width:24%;margin-left:1%;margin-bottom:30px}}.location-card-wrapper{display:inline-block}.stars{color:#ff0}\n"},829:function(t,e){t.exports=".stars{color:#ff0}.location-card-wrapper{margin:auto}@media (max-width: 500px){.location-card-wrapper{width:96%}}@media (min-width: 500px) and (max-width: 767px){.location-card-wrapper{width:96%}}@media (min-width: 768px) and (max-width: 1023px){.location-card-wrapper{width:75%}}@media (min-width: 1024px){.location-card-wrapper{width:65%}}\n"},830:function(t,e){t.exports='<div id="finder-wrapper">\n  <div *ngIf="loading">Finding the best fit for you search...</div>\n\n  <div *ngIf="!loading">\n\n    <h1 class="screen-only">Finder</h1>\n    <h2>We have found {{locations.length}} locations matching "{{searchString}}".</h2>\n\n    <div *ngFor="let location of locations" class="location-card-wrapper">\n      <md-card class="location-card">\n        <img class="click" md-card-image [routerLink]="[\'/finder/\', location.HotelId]" src="{{location.ThumbnailUrl}}">\n        <md-card-content>\n          <div>\n            <md-icon title="Star Rating" class="stars" *ngFor="let star of getStars(location.StarRating)" fontSet="fa" fontIcon="fa-star"></md-icon>\n            <span class="pull-right">\n              <md-icon class="click" title="See the location in the map" *ngIf="location.GeoCode" (click)="goToMap(location)" fontSet="fa" fontIcon="fa-map"></md-icon>\n              <md-icon title="Breakfast Available" *ngIf="location.BreakfastAvailable" fontSet="fa" fontIcon="fa-coffee"></md-icon>\n              <md-icon title="Dinner Available" *ngIf="location.DinnerAvailable" fontSet="fa" fontIcon="fa-cutlery"></md-icon>\n            </span>\n          </div>\n          <md-card-title title="Hotel Name">{{location.HotelName}}</md-card-title>\n          <md-card-subtitle>\n            <span title="CountryCode {{location.CountryCode}}">{{location.CountryCode}}</span>\n            <span title="Price in {{location.CurrencyCode}}">{{location.Price | currency:location.CurrencyCode}}</span>\n          </md-card-subtitle>\n          <p title="Address">{{location.Address}}</p>\n        </md-card-content>\n      </md-card>\n    </div>\n\n  </div>\n\n</div>\n'},831:function(t,e){t.exports='<div *ngIf="loading">Loading hotel info...</div>\n<div *ngIf="!loading">\n  <div class="location-card-wrapper">\n    <md-card class="location-card">\n      <img class="click" md-card-image [routerLink]="[\'/finder/\', location.HotelId]" src="{{location.Images[0]}}">\n      <md-card-content>\n        <div>\n          <md-icon title="Star Rating" class="stars" *ngFor="let star of getStars(location.StarRating)" fontSet="fa" fontIcon="fa-star"></md-icon>\n          <span class="pull-right">\n            <md-icon class="click" title="See the location in the map" *ngIf="location.GeoCode" (click)="goToMap(location)" fontSet="fa" fontIcon="fa-map"></md-icon>\n            <md-icon title="Breakfast Available" *ngIf="location.BreakfastAvailable" fontSet="fa" fontIcon="fa-coffee"></md-icon>\n            <md-icon title="Dinner Available" *ngIf="location.DinnerAvailable" fontSet="fa" fontIcon="fa-cutlery"></md-icon>\n          </span>\n        </div>\n        <md-card-title title="Hotel Name">{{location.HotelName}}</md-card-title>\n        <p><b>Address: </b> {{location.AddressLines[0]}} - {{location.AddressLines[1]}} - {{location.AddressLines[2]}}</p>\n        <p><b>PostalCode: </b>{{location.PostalCode}}</p>\n        <p><b>CityName: </b>{{location.CityName}}</p>\n        <p><b>CountryCode: </b>{{location.CountryCode}}</p>\n        <p><b>CountryName: </b>{{location.CountryName}}</p>\n        <p><b>Phone: </b>{{location.Phone}}</p>\n        <p><b>Fax: </b>{{location.Fax}}</p>\n        <p title="Description" [innerHTML]="location.HotelDescription"></p>\n      </md-card-content>\n    </md-card>\n  </div>\n\n  <md-grid-list cols="2">\n    <md-grid-tile *ngFor="let image of location.Images">\n      <img src="{{image}}">\n    </md-grid-tile>\n  </md-grid-list>\n</div>\n'},832:function(t,e,n){"use strict";var o=n(4),i=n(468);o.Observable.prototype.toPromise=i.toPromise}});
//# sourceMappingURL=0.73dbf63dc8ba7ba2f050.bundle.map